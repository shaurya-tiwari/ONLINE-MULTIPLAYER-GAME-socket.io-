@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
    --ink: #0a0a0a;
    --paper: #fcfcfc;
    --marker: #ef4444;

    /* Standardized Z-Indexes */
    --z-bg: 0;
    --z-canvas: 10;
    --z-vignette: 15;
    --z-screen: 20;
    --z-hud: 25;
    --z-overlay: 50;
    --z-guard: 100;
}

body {
    margin: 0;
    overflow: hidden;
    background-color: #737373;
    color: var(--ink);
    font-family: 'Inter', system-ui, -apple-system, sans-serif;
    width: 100vw;
    height: 100vh;
    position: fixed;
}

@layer components {
    .btn-ink {
        @apply w-full py-4 px-6 text-xl font-black border-2 border-ink rounded-lg hover:bg-ink hover:text-paper transition-all transform hover:-translate-y-0.5 active:translate-y-0 uppercase tracking-widest flex items-center justify-center;
        box-shadow: 4px 4px 0px 0px rgba(0, 0, 0, 0.1);
        min-height: 3.5rem;
    }

    .card-paper {
        @apply bg-paper border-2 border-ink p-8 relative;
        box-shadow: 8px 8px 0px 0px rgba(0, 0, 0, 0.05);
    }
}

@layer utilities {
    .rough-edge {
        clip-path: polygon(0.5% 1.5%, 1.2% 0.5%, 98.8% 0.8%, 99.5% 2.3%,
                99.2% 97.5%, 98.1% 99.1%, 1.9% 98.6%, 0.6% 97.4%);
    }

    .animate-float {
        animation: float 6s ease-in-out infinite;
    }

    @keyframes float {
        0% {
            transform: translateY(0px) rotate(-0.5deg);
        }

        50% {
            transform: translateY(-8px) rotate(0.5deg);
        }

        100% {
            transform: translateY(0px) rotate(-0.5deg);
        }
    }

    .vignette-overlay {
        position: absolute;
        inset: 0;
        pointer-events: none;
        z-index: var(--z-vignette);
        background: radial-gradient(circle, transparent 40%, rgba(0, 0, 0, 0.25) 100%);
        mix-blend-mode: multiply;
    }

    /* --- DEFENSIVE UI SYSTEM --- */
    .sketch-ui-root {
        font-family: 'Inter', system-ui, -apple-system, sans-serif;
        color: var(--ink);
        line-height: 1.2;
        user-select: none;
        -webkit-tap-highlight-color: transparent;
    }

    .sketch-card {
        @apply bg-[#fefcf5] border-[3px] border-ink relative overflow-hidden;
        box-shadow: 6px 6px 0px 0px rgba(0, 0, 0, 0.15);
        /* Subtle rotation for sketchy feel without impacting clickable area much */
        transform: rotate(-0.3deg);
    }

    /* Hand-drawn underline effect */
    .marker-underline {
        @apply relative inline-block z-0;
    }

    .marker-underline::after {
        content: '';
        position: absolute;
        bottom: 2px;
        left: -2px;
        width: calc(100% + 4px);
        height: 30%;
        background: rgba(239, 68, 68, 0.25);
        z-index: -1;
        transform: rotate(-1deg) skewX(-10deg);
        border-radius: 20% 80% 20% 80% / 80% 20% 80% 20%;
    }

    /* Defensive Landscape Utilities */
    .landscape-compact {
        @apply landscape:py-4 landscape:gap-2;
    }

    .landscape-safe-area {
        @apply pl-[env(safe-area-inset-left)] pr-[env(safe-area-inset-right)] pb-[env(safe-area-inset-bottom)];
    }
}

/* Custom Scrollbar for Hand-drawn feel */
.custom-scrollbar::-webkit-scrollbar {
    width: 6px;
}

.custom-scrollbar::-webkit-scrollbar-track {
    background: transparent;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
    background: var(--ink);
    border-radius: 10px;
}